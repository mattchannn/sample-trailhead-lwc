<!-- sldsValidatorIgnore -->
<template>
    <ul>
        <li key={appointmentItem.key} class="flyout__expandable-area">
            <section class="slds-accordion__section slds-is-open">
                <div class="slds-accordion__summary flyout__expandable-header">
                    <h2 class="slds-accordion__summary-heading">
                        <button
                            class="slds-button slds-accordion__summary-action"
                            aria-controls={appointmentItem.key}
                            aria-expanded="true"
                            title="Accordion summary"
                            onclick={onExpandAppointmentDetailHandler}
                        >
                            <lightning-icon
                                if:false={showAppointmentDetail}
                                icon-name="utility:chevronright"
                                size="x-small"
                            ></lightning-icon>
                            <lightning-icon
                                if:true={showAppointmentDetail}
                                icon-name="utility:chevrondown"
                                size="x-small"
                            ></lightning-icon>
                            <p
                                class="
                                    slds-accordion__summary-content
                                    slds-var-m-left_x-small
                                    flyout__expandable-headerText
                                "
                            >
                                {appointmentItem.key}
                            </p>
                            <p class="slds-var-m-left_xx-small flyout__expandable-headerSubText">(7 Items)</p>
                        </button>
                    </h2>
                </div>
                <template if:true={showAppointmentDetail}>
                    <div class="slds-accordion__content appointment-list__master-container" id={appointmentItem.key}>
                        <div class="appointment-list__item-container">
                            <div class="slds-grid slds-grid_vertical">
                                <div class="appointment-list__grid-master-container">
                                    <!-- Header Cell - Start -->
                                    <div class="slds-col slds-grid slds-wrap appointment-list__grid-header-container">
                                        <div class="slds-col slds-size_1-of-12 appointment-list__item-grid-header">
                                            <lightning-input
                                                type="checkbox"
                                                label=""
                                                name="toggle-all-appointment-list"
                                            ></lightning-input>
                                        </div>
                                        <div
                                            class="
                                                slds-col
                                                slds-size_3-of-12
                                                appointment-list__item-grid-header
                                                xxlabel
                                            "
                                        >
                                            Items
                                        </div>
                                        <div
                                            class="
                                                slds-col
                                                slds-size_2-of-12
                                                appointment-list__item-grid-header
                                                xxlabel
                                            "
                                        >
                                            Qty
                                        </div>
                                        <div
                                            class="
                                                slds-col
                                                slds-size_3-of-12
                                                appointment-list__item-grid-header
                                                xxlabel
                                            "
                                        >
                                            Appointment ID
                                        </div>
                                        <div
                                            class="
                                                slds-col
                                                slds-size_3-of-12
                                                appointment-list__item-grid-header
                                                xxlabel
                                            "
                                        >
                                            Delivery Date &amp; Time
                                        </div>
                                    </div>
                                    <!-- Header Cell - End -->

                                    <!-- Appointment List Item with checkboxes - Start -->
                                    <template for:each={appointmentItem.items} for:item="item" for:index="index">
                                        <div
                                            key={item.name__index}
                                            class="
                                                slds-col slds-grid slds-wrap
                                                appointment-list__grid-content-container
                                            "
                                        >
                                            <div class="slds-col slds-size_1-of-12">
                                                <div
                                                    class="slds-col slds-grid slds-wrap slds-grid_vertical-align-center"
                                                >
                                                    <lightning-input
                                                        type="checkbox"
                                                        label=""
                                                        name="toggle-all-appointment-list"
                                                        class="slds-size_5-of-12"
                                                    ></lightning-input>
                                                    <p class="slds-size_7-of-12">#{index}</p>
                                                </div>
                                            </div>
                                            <div class="slds-col slds-size_3-of-12">{item.name}</div>
                                            <div class="slds-col slds-size_2-of-12">{item.qty}</div>
                                            <div class="slds-col slds-size_3-of-12">{item.appointmentId}</div>
                                            <div class="slds-col slds-size_3-of-12">{item.deliverDatetime}</div>
                                        </div>
                                    </template>
                                    <!-- Appointment List Item with checkboxes - End -->
                                </div>
                            </div>
                        </div>
                        <div class="slds-m-top_small">
                            <lightning-button
                                label="Create Appointment"
                                icon-name="utility:add"
                                title="Tap here to create appointment"
                                class="slds-p-vertical_xx-small"
                            ></lightning-button>
                        </div>
                    </div>
                </template>
            </section>
        </li>
    </ul>
</template>
